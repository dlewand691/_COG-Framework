{"version":3,"sources":["lib/provider/index.js"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","React","require","warn_1","PropTypes","subscriptionShape","shape","trySubscribe","func","isRequired","tryUnsubscribe","notifyNestedSubs","isSubscribed","storeShape","subscribe","dispatch","getState","didWarnAboutReceivingStore","warnAboutReceivingStore","default","createProvider","storeKey","Provider","_super","props","context","_this","call","store","getChildContext","_a","componentWillReceiveProps","nextProps","render","Children","only","children","propTypes","element","childContextTypes","Component","process","env","NODE_ENV"],"mappings":"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","file":"index.js","sourceRoot":"/Users/sheweichun/opensource/succinct/packages/succinct","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar warn_1 = require(\"../util/warn\");\nvar PropTypes = require(\"prop-types\");\n// import PropTypes = require('prop-types');\n// console.log('PropTypes :',PropTypes);\nexports.subscriptionShape = PropTypes.shape({\n    trySubscribe: PropTypes.func.isRequired,\n    tryUnsubscribe: PropTypes.func.isRequired,\n    notifyNestedSubs: PropTypes.func.isRequired,\n    isSubscribed: PropTypes.func.isRequired,\n});\nexports.storeShape = PropTypes.shape({\n    subscribe: PropTypes.func.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    getState: PropTypes.func.isRequired\n});\nvar didWarnAboutReceivingStore = false;\nfunction warnAboutReceivingStore() {\n    if (didWarnAboutReceivingStore) {\n        return;\n    }\n    didWarnAboutReceivingStore = true;\n    warn_1.default('<Provider> does not support changing `store` on the fly. ');\n}\nfunction createProvider(storeKey) {\n    if (storeKey === void 0) { storeKey = 'store'; }\n    var Provider = (function (_super) {\n        __extends(Provider, _super);\n        function Provider(props, context) {\n            var _this = _super.call(this, props, context) || this;\n            _this[storeKey] = props.store;\n            return _this;\n        }\n        Provider.prototype.getChildContext = function () {\n            return _a = {}, _a[storeKey] = this[storeKey], _a;\n            var _a;\n        };\n        Provider.prototype.componentWillReceiveProps = function (nextProps) { };\n        Provider.prototype.render = function () {\n            return React.Children.only(this.props.children);\n        };\n        Provider.propTypes = {\n            store: exports.storeShape.isRequired,\n            children: PropTypes.element.isRequired,\n        };\n        Provider.childContextTypes = (_a = {},\n            _a[storeKey] = exports.storeShape.isRequired,\n            _a);\n        return Provider;\n    }(React.Component));\n    if (process.env.NODE_ENV !== 'production') {\n        Provider.prototype.componentWillReceiveProps = function (nextProps) {\n            if (this[storeKey] !== nextProps.store) {\n                warnAboutReceivingStore();\n            }\n        };\n    }\n    return Provider;\n    var _a;\n}\nexports.createProvider = createProvider;\nexports.default = createProvider();\n"]}