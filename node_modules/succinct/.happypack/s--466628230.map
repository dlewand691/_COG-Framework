{"version":3,"sources":["es/provider/index.js"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","Component","Children","warning","PropTypes","subscriptionShape","shape","trySubscribe","func","isRequired","tryUnsubscribe","notifyNestedSubs","isSubscribed","storeShape","subscribe","dispatch","getState","didWarnAboutReceivingStore","warnAboutReceivingStore","createProvider","storeKey","Provider","_super","props","context","_this","call","store","getChildContext","_a","componentWillReceiveProps","nextProps","render","only","children","propTypes","element","childContextTypes","process","env","NODE_ENV"],"mappings":"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","file":"index.js","sourceRoot":"/Users/sheweichun/opensource/succinct/packages/succinct","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component, Children } from 'react';\nimport warning from '../util/warn';\nimport * as PropTypes from 'prop-types';\n// import PropTypes = require('prop-types');\n// console.log('PropTypes :',PropTypes);\nexport var subscriptionShape = PropTypes.shape({\n    trySubscribe: PropTypes.func.isRequired,\n    tryUnsubscribe: PropTypes.func.isRequired,\n    notifyNestedSubs: PropTypes.func.isRequired,\n    isSubscribed: PropTypes.func.isRequired,\n});\nexport var storeShape = PropTypes.shape({\n    subscribe: PropTypes.func.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    getState: PropTypes.func.isRequired\n});\nvar didWarnAboutReceivingStore = false;\nfunction warnAboutReceivingStore() {\n    if (didWarnAboutReceivingStore) {\n        return;\n    }\n    didWarnAboutReceivingStore = true;\n    warning('<Provider> does not support changing `store` on the fly. ');\n}\nexport function createProvider(storeKey) {\n    if (storeKey === void 0) { storeKey = 'store'; }\n    var Provider = (function (_super) {\n        __extends(Provider, _super);\n        function Provider(props, context) {\n            var _this = _super.call(this, props, context) || this;\n            _this[storeKey] = props.store;\n            return _this;\n        }\n        Provider.prototype.getChildContext = function () {\n            return _a = {}, _a[storeKey] = this[storeKey], _a;\n            var _a;\n        };\n        Provider.prototype.componentWillReceiveProps = function (nextProps) { };\n        Provider.prototype.render = function () {\n            return Children.only(this.props.children);\n        };\n        Provider.propTypes = {\n            store: storeShape.isRequired,\n            children: PropTypes.element.isRequired,\n        };\n        Provider.childContextTypes = (_a = {},\n            _a[storeKey] = storeShape.isRequired,\n            _a);\n        return Provider;\n    }(Component));\n    if (process.env.NODE_ENV !== 'production') {\n        Provider.prototype.componentWillReceiveProps = function (nextProps) {\n            if (this[storeKey] !== nextProps.store) {\n                warnAboutReceivingStore();\n            }\n        };\n    }\n    return Provider;\n    var _a;\n}\nexport default createProvider();\n"]}